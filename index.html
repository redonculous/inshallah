<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>your name</title>

  <style>
    /* extra safety: status bar can never show caret or be “typed” */
    .status-row,
    .status-row * {
      -webkit-user-select: none !important;
      -moz-user-select: none !important;
      -ms-user-select: none !important;
      user-select: none !important;
      caret-color: transparent !important;
    }

    /* don’t let clicks land directly on the text */
    .status-text {
      pointer-events: none;
    }

    :root {
      --bg: radial-gradient(circle at top, #020617, #020617 60%, #000 100%);
      --text: #f3f4f6;
      --text-muted: #9ca3af;
      --border-subtle: rgba(255, 255, 255, 0.08);
      --panel-bg: rgba(10, 12, 18, 0.76);
      --shape-border: rgba(255, 255, 255, 0.1);
      --accent-1: #8b5cf6;
      --accent-2: #22d3ee;
      --accent-3: #4ade80;
      --radius: 24px;
      --radius-pill: 999px;

      --transition-fast: 0.16s ease;
      --transition-med: 0.32s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      text-transform: lowercase !important;

      /* kill text selection + caret globally */
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      caret-color: transparent;
    }

    body {
      min-height: 100vh;
      font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display",
        "SF Pro Text", system-ui, sans-serif;
      color: var(--text);
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      background: var(--bg);
      position: relative;
      padding: 20px;
      cursor: default;
      transition:
        background 0.4s ease,
        color 0.4s ease;
    }

    /* theme: dark */
    body.theme-dark {
      --bg: radial-gradient(circle at top, #020617, #020617 60%, #000 100%);
      --text: #f9fafb;
      --text-muted: #9ca3af;
      --border-subtle: rgba(255, 255, 255, 0.12);
      --panel-bg: rgba(9, 11, 18, 0.80);
      --shape-border: rgba(255, 255, 255, 0.12);
    }

    /* theme: light */
    body.theme-light {
      --bg: radial-gradient(circle at top, #e5e7eb, #d4d4d8 70%, #e5e7eb 100%);
      --text: #020617;
      --text-muted: #6b7280;
      --border-subtle: rgba(15, 23, 42, 0.08);
      --panel-bg: rgba(248, 250, 252, 0.88);
      --shape-border: rgba(15, 23, 42, 0.10);
    }

    /* cinematic vignette */
    .vignette {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      background:
        radial-gradient(circle at center, transparent 52%, rgba(0, 0, 0, 0.35) 100%);
      mix-blend-mode: multiply;
      opacity: 0.85;
      transition: opacity 0.4s ease;
    }
    body.theme-light .vignette {
      opacity: 0.25;
    }

    /* ---------- 3d shapes (cinematic depth) ---------- */

    .geo {
      position: fixed;
      inset: -10%;
      pointer-events: none;
      z-index: -2;
      perspective: 900px;
      opacity: 0.28;
      filter: blur(0.3px);
      transition: transform var(--transition-med);
    }

    .shape {
      position: absolute;
      border: 1px solid var(--shape-border);
      transform-style: preserve-3d;
      box-shadow: 0 0 45px rgba(15, 23, 42, 0.8);
      backdrop-filter: blur(2px);
    }

    .shape--circle {
      width: 260px;
      height: 260px;
      border-radius: 50%;
      right: -80px;
      top: 45%;
      background: radial-gradient(circle at 30% 30%,
        rgba(34, 211, 238, 0.35),
        transparent 65%);
      animation: geoSpin1 40s linear infinite;
    }

    .shape--square {
      width: 170px;
      height: 170px;
      top: 6%;
      left: 8%;
      background: radial-gradient(circle at 20% 20%,
        rgba(139, 92, 246, 0.35),
        transparent 60%);
      animation: geoSpin2 34s linear infinite;
    }

    .shape--tri {
      width: 220px;
      height: 220px;
      left: -130px;
      bottom: 10%;
      background: transparent;
      animation: geoSpin3 48s linear infinite;
    }

    .shape--tri::before {
      content: "";
      position: absolute;
      inset: 0;
      border: 1px solid var(--shape-border);
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      background: radial-gradient(circle at 50% 20%,
        rgba(74, 222, 128, 0.32),
        transparent 75%);
    }

    @keyframes geoSpin1 {
      0% { transform: translate3d(0, 0, 60px) rotateX(0) rotateY(0); }
      50% { transform: translate3d(-60px, -120px, -60px) rotateX(28deg) rotateY(16deg); }
      100% { transform: translate3d(-130px, -240px, -120px) rotateX(80deg) rotateY(60deg); }
    }

    @keyframes geoSpin2 {
      0% { transform: translate3d(0,0,0) rotateX(16deg) rotateY(-18deg); }
      50% { transform: translate3d(40px,140px,60px) rotateX(32deg) rotateY(24deg); }
      100% { transform: translate3d(0,260px,-40px) rotateX(70deg) rotateY(58deg); }
    }

    @keyframes geoSpin3 {
      0% { transform: translate3d(0,0,0) rotateX(10deg) rotateY(-10deg); }
      50% { transform: translate3d(120px,-100px,40px) rotateX(30deg) rotateY(18deg); }
      100% { transform: translate3d(240px,-240px,-40px) rotateX(60deg) rotateY(52deg); }
    }

    /* ---------- subtle tap ripple ---------- */

    .ripple {
      position: fixed;
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.08);
      transform: translate(-50%, -50%) scale(1);
      pointer-events: none;
      animation: rippleExpand 0.6s ease-out forwards;
      backdrop-filter: blur(5px);
    }
    body.theme-light .ripple {
      background: rgba(15, 23, 42, 0.07);
    }

    @keyframes rippleExpand {
      to {
        transform: translate(-50%, -50%) scale(18);
        opacity: 0;
      }
    }

    /* ---------- mobile-first panel ---------- */

    .panel-wrap {
      position: relative;
      width: 100%;
      max-width: 420px;
      z-index: 1;
      transform: translate3d(0, 8px, 0);
      opacity: 0;
      transition:
        transform 0.5s ease,
        opacity 0.5s ease;
    }
    body.ready .panel-wrap {
      transform: translate3d(0, 0, 0);
      opacity: 1;
    }

    .panel-wrap::before {
      content: "";
      position: absolute;
      inset: -30%;
      background:
        radial-gradient(circle at 0% 0%, rgba(139, 92, 246, 0.25), transparent 55%),
        radial-gradient(circle at 100% 0%, rgba(34, 211, 238, 0.2), transparent 60%),
        radial-gradient(circle at 50% 100%, rgba(74, 222, 128, 0.16), transparent 55%);
      filter: blur(26px);
      opacity: 0.9;
      z-index: -1;
      transition: opacity 0.4s ease;
    }
    body.theme-light .panel-wrap::before {
      opacity: 0.5;
    }

    .panel {
      position: relative;
      padding: 18px 18px 14px;
      border-radius: var(--radius);
      background: var(--panel-bg);
      border: 1px solid var(--border-subtle);
      backdrop-filter: blur(28px) saturate(190%);
      -webkit-backdrop-filter: blur(28px) saturate(190%);
      box-shadow:
        0 18px 45px rgba(0, 0, 0, 0.50),
        inset 0 0 0 0.5px rgba(255, 255, 255, 0.04);
      overflow: hidden;
      transition:
        background 0.4s ease,
        border-color 0.4s ease,
        box-shadow 0.4s ease;
    }

    .panel::after {
      content: "";
      position: absolute;
      inset: -40% -40% 60%;
      background: radial-gradient(circle at top,
        rgba(255, 255, 255, 0.14),
        transparent 60%);
      opacity: 0.35;
      pointer-events: none;
    }

    .panel::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(
        120deg,
        rgba(139, 92, 246, 0.7),
        rgba(34, 211, 238, 0.7),
        rgba(74, 222, 128, 0.7),
        rgba(139, 92, 246, 0.7)
      );
      background-size: 200% 200%;
      -webkit-mask:
        linear-gradient(#000 0 0) content-box,
        linear-gradient(#000 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      opacity: 0.55;
      animation: borderShift 14s linear infinite;
      pointer-events: none;
    }

    @keyframes borderShift {
      0% { background-position: 0% 50%; }
      100% { background-position: 200% 50%; }
    }

    /* ---------- content ---------- */

    .top-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
      gap: 10px;
    }

    .left {
      display: flex;
      align-items: center;
      gap: 10px;
      flex: 1;
      min-width: 0;
    }

    /* discord-style avatar */
    .avatar {
      position: relative;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      flex-shrink: 0;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    .avatar-ring {
      position: absolute;
      inset: -2px;
      border-radius: 50%;
      background: conic-gradient(
        from 180deg,
        #5865f2,
        #00a8fc,
        #3ba55d,
        #5865f2
      );
      opacity: 0.9;
    }

    .avatar img {
      position: relative;
      width: 100%;
      height: 100%;
      border-radius: 50%;
      object-fit: cover;
      background: #020617;
      border: 2px solid #020617;
    }

    body.theme-light .avatar img {
      border-color: #e5e7eb;
    }

    .id-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }

    .name {
      font-size: 1.1rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .handle {
      font-size: 0.78rem;
      color: var(--text-muted);
      letter-spacing: 0.08em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    /* ---- status row with spinner + flip ---- */

    .status-row {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 4px;
      padding: 3px 8px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.65);
      border: 1px solid rgba(148, 163, 184, 0.35);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      transform-origin: center;
      perspective: 600px;
    }
    body.theme-light .status-row {
      background: rgba(248, 250, 252, 0.85);
      border-color: rgba(148, 163, 184, 0.35);
    }

    .status-row.loading .status-dot {
      width: 14px;
      height: 14px;
      border-radius: 999px;
      flex-shrink: 0;

      border: 2px solid transparent;
      border-top-color: #a5b4fc;
      border-right-color: #a5b4fc;
      background: transparent;

      box-shadow: 0 0 10px rgba(129, 140, 248, 0.8);
      animation: spinWheel 0.85s linear infinite;
    }

    .status-row.loading .status-text {
      font-size: 0.7rem;
      color: var(--text-muted);
      letter-spacing: 0.08em;
    }

    .status-row:not(.loading) .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      flex-shrink: 0;
      border: none;
      box-shadow: none;
    }

    .status-row.status-online:not(.loading) .status-dot {
      background: #3ba55d;
      box-shadow: 0 0 10px rgba(59, 165, 93, 0.9);
    }

    .status-row.status-idle:not(.loading) .status-dot {
      background: #faa81a;
      box-shadow: 0 0 10px rgba(250, 168, 26, 0.9);
    }

    .status-row.status-dnd:not(.loading) .status-dot {
      background: #ed4245;
      box-shadow: 0 0 12px rgba(237, 66, 69, 0.95);
    }

    .status-row.status-offline:not(.loading) .status-dot {
      background: #4b5563;
      box-shadow: 0 0 0 rgba(0,0,0,0);
    }

    .status-row.status-online:not(.loading) .status-text {
      color: #bbf7d0;
    }
    .status-row.status-idle:not(.loading) .status-text {
      color: #fef3c7;
    }
    .status-row.status-dnd:not(.loading) .status-text {
      color: #fee2e2;
    }
    .status-row.status-offline:not(.loading) .status-text {
      color: var(--text-muted);
    }

    @keyframes spinWheel {
      to {
        transform: rotate(360deg);
      }
    }

    .status-text {
      font-size: 0.7rem;
      color: var(--text-muted);
      letter-spacing: 0.08em;
      transition: transform 0.35s ease, opacity 0.35s ease;
    }

    .status-text.flip {
      animation: flipStatusText 0.35s ease;
      transform-origin: center;
    }

    @keyframes flipStatusText {
      0% {
        transform: rotateX(0deg);
        opacity: 1;
      }
      50% {
        transform: rotateX(90deg);
        opacity: 0;
      }
      100% {
        transform: rotateX(0deg);
        opacity: 1;
      }
    }

    /* ---------- iOS-style theme toggle ---------- */

    .theme-toggle {
      position: relative;
      flex-shrink: 0;
      border-radius: var(--radius-pill);
      border: 1px solid var(--border-subtle);
      background: rgba(15, 23, 42, 0.7);
      display: inline-flex;
      align-items: center;
      justify-content: space-between;
      padding: 2px 4px;
      width: 96px;
      cursor: pointer;
      overflow: hidden;
      transition:
        background var(--transition-fast),
        border-color var(--transition-fast),
        box-shadow var(--transition-fast),
        transform var(--transition-fast);
    }
    body.theme-light .theme-toggle {
      background: rgba(248, 250, 252, 0.9);
    }

    .theme-toggle:hover {
      box-shadow: 0 0 14px rgba(15, 23, 42, 0.35);
      transform: translateY(-1px);
    }

    .theme-pill-label {
      position: relative;
      z-index: 1;
      flex: 1;
      text-align: center;
      font-size: 0.66rem;
      padding: 3px 0;
      color: var(--text-muted);
      transition: color 0.25s ease, font-weight 0.25s ease;
    }

    .theme-pill-knob {
      position: absolute;
      top: 2px;
      bottom: 2px;
      left: 4px;
      width: calc(50% - 4px);
      border-radius: 999px;
      background: #f9fafb;
      box-shadow:
        0 2px 6px rgba(0, 0, 0, 0.45),
        0 0 0 0.5px rgba(148, 163, 184, 0.4);
      transition: transform var(--transition-med), background 0.3s ease;
    }

    body.theme-dark .theme-pill-knob {
      transform: translateX(0);
      background: #f9fafb;
    }

    body.theme-light .theme-pill-knob {
      transform: translateX(100%);
      background: #e5e7eb;
    }

    body.theme-dark .theme-toggle .theme-pill-label:first-child {
      color: #020617;
      font-weight: 600;
    }
    body.theme-dark .theme-toggle .theme-pill-label:last-child {
      color: var(--text-muted);
      font-weight: 400;
    }

    body.theme-light .theme-toggle .theme-pill-label:last-child {
      color: #020617;
      font-weight: 600;
    }
    body.theme-light .theme-toggle .theme-pill-label:first-child {
      color: var(--text-muted);
      font-weight: 400;
    }

    .divider {
      height: 1px;
      margin: 8px 0 10px;
      border-radius: 999px;
      background: linear-gradient(
        to right,
        transparent,
        rgba(255, 255, 255, 0.30),
        transparent
      );
      opacity: 0.85;
    }
    body.theme-light .divider {
      background: linear-gradient(
        to right,
        transparent,
        rgba(15, 23, 42, 0.22),
        transparent
      );
    }

    .links {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .btn {
      text-decoration: none;
      color: var(--text);
      padding: 10px 12px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.10);
      background: rgba(255, 255, 255, 0.02);
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition:
        transform var(--transition-fast),
        border-color var(--transition-fast),
        background var(--transition-fast),
        box-shadow var(--transition-fast),
        opacity var(--transition-fast);
      font-size: 0.9rem;
    }
    body.theme-light .btn {
      border-color: rgba(15, 23, 42, 0.08);
      background: rgba(248, 250, 252, 0.8);
    }

    .btn-main {
      background: radial-gradient(
        circle at top left,
        rgba(139, 92, 246, 0.32),
        rgba(15, 23, 42, 0.98)
      );
      border-color: rgba(139, 92, 246, 0.55);
    }
    body.theme-light .btn-main {
      background: linear-gradient(
        135deg,
        rgba(139, 92, 246, 0.16),
        rgba(248, 250, 252, 0.96)
      );
    }

    .btn:hover {
      transform: translateY(-1px);
      border-color: rgba(255, 255, 255, 0.22);
      background: rgba(255, 255, 255, 0.05);
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.55);
    }
    body.theme-light .btn:hover {
      border-color: rgba(15, 23, 42, 0.16);
      background: #ffffff;
    }

    .btn:active {
      transform: translateY(0);
      opacity: 0.96;
      box-shadow: none;
    }

    .btn-label {
      display: flex;
      flex-direction: column;
      gap: 1px;
    }

    .btn-title {
      font-weight: 500;
    }

    .btn-sub {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .icon {
      opacity: 0.6;
      font-size: 0.95rem;
      margin-left: 6px;
    }

    .footer-note {
      margin-top: 8px;
      font-size: 0.7rem;
      color: var(--text-muted);
      text-align: right;
      opacity: 0.85;
    }

    /* ---------- corner image button + modal ---------- */

    .corner-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 46px;
      height: 46px;
      border-radius: 16px;

      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(22px) saturate(150%);
      -webkit-backdrop-filter: blur(22px) saturate(150%);

      border: 1px solid rgba(255, 255, 255, 0.18);
      color: var(--text);
      font-size: 1.05rem;

      display: flex;
      justify-content: center;
      align-items: center;

      cursor: pointer;
      z-index: 30;
      transition:
        transform 0.18s ease,
        box-shadow 0.18s ease,
        background 0.18s ease,
        border-color 0.18s ease;

      box-shadow:
        0 6px 22px rgba(0, 0, 0, 0.45),
        inset 0 0 0 0.4px rgba(255, 255, 255, 0.22);
    }

    body.theme-light .corner-button {
      background: rgba(255, 255, 255, 0.45);
      border: 1px solid rgba(0, 0, 0, 0.10);
      color: #0f172a;
      box-shadow:
        0 6px 20px rgba(0, 0, 0, 0.22),
        inset 0 0 0 0.4px rgba(255, 255, 255, 0.45);
    }

    .corner-button:hover {
      transform: translateY(-2px) scale(1.03);
      background: rgba(255, 255, 255, 0.14);
      box-shadow:
        0 10px 28px rgba(0, 0, 0, 0.55),
        inset 0 0 0 0.5px rgba(255, 255, 255, 0.3);
    }

    .corner-button:active {
      transform: translateY(0) scale(0.97);
      box-shadow:
        0 4px 14px rgba(0, 0, 0, 0.55),
        inset 0 0 0 0.5px rgba(255, 255, 255, 0.3);
    }

    body.theme-light .corner-button:hover {
      background: rgba(255, 255, 255, 0.65);
    }

    .img-modal {
      position: fixed;
      inset: 0;
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 50;
    }

    .img-modal.active {
      display: flex;
    }

    .img-modal-backdrop {
      position: absolute;
      inset: 0;
      backdrop-filter: blur(30px) brightness(0.4);
      -webkit-backdrop-filter: blur(30px) brightness(0.4);
      background: rgba(0,0,0,0.35);
      opacity: 0;
      animation: fadeInBackdrop 0.35s ease forwards;
    }

    @keyframes fadeInBackdrop {
      to { opacity: 1; }
    }

    .img-modal-content {
      position: relative;
      max-width: 88%;
      max-height: 88%;
      border-radius: 14px;
      box-shadow: 0 18px 48px rgba(0,0,0,0.65);
      opacity: 0;
      transform: scale(0.94);
      animation: imgZoomIn 0.35s ease forwards;
    }

    @keyframes imgZoomIn {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @media (min-width: 640px) {
      body {
        padding: 24px;
      }
      .panel-wrap {
        max-width: 520px;
      }
      .panel {
        padding: 20px 20px 16px;
      }
      .name {
        font-size: 1.2rem;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.001ms !important;
        animation-iteration-count: 1 !important;
        scroll-behavior: auto !important;
        transition: none !important;
      }
    }
  </style>
</head>
<body class="theme-dark">
  <div class="vignette"></div>

  <!-- cinematic 3d background -->
  <div class="geo">
    <div class="shape shape--circle"></div>
    <div class="shape shape--square"></div>
    <div class="shape shape--tri"></div>
  </div>

  <!-- corner button opens image -->
  <button class="corner-button" aria-label="open image">
   <!-- you can put an icon or emoji here if you want -->
  </button>

  <div class="img-modal" id="imgModal">
    <div class="img-modal-backdrop"></div>
    <img src="preview.png" alt="preview" class="img-modal-content" />
  </div>

  <!-- main mobile-first panel -->
  <div class="panel-wrap">
    <section class="panel" aria-label="personal link hub">
      <div class="top-row">
        <div class="left">
          <div class="avatar">
            <div class="avatar-ring"></div>
            <img
              src="https://cdn.discordapp.com/embed/avatars/0.png"
              alt="discord avatar"
            />
          </div>
          <div class="id-block">
            <div class="name">your discord name</div>
            <div class="handle">@yourdiscord</div>

            <!-- status pill -->
            <div class="status-row loading">
              <span class="status-dot"></span>
              <span class="status-text">syncing…</span>
            </div>
          </div>
        </div>

        <button class="theme-toggle" type="button" aria-label="toggle theme">
          <span class="theme-pill-label">dark</span>
          <span class="theme-pill-label">light</span>
          <span class="theme-pill-knob"></span>
        </button>
      </div>

      <div class="divider"></div>

      <a class="btn" href="https://github.com/redonculous" target="_blank" rel="noopener">
        <span class="btn-label">
          <span class="btn-title">github</span>
          <span class="btn-sub">projects & experiments</span>
        </span>
        <span class="icon">{ }</span>
      </a>

      <p class="footer-note">
         moneeb is a predator • ermaan
      </p>
    </section>
  </div>

  <script>
    const body = document.body;
    const toggle = document.querySelector(".theme-toggle");
    const THEME_KEY = "linkhub-theme";

    function applyTheme(theme) {
      body.classList.remove("theme-dark", "theme-light");
      if (theme === "light") {
        body.classList.add("theme-light");
      } else {
        body.classList.add("theme-dark");
      }
      localStorage.setItem(THEME_KEY, theme);
    }

    (function initTheme() {
      const stored = localStorage.getItem(THEME_KEY);
      if (stored === "light" || stored === "dark") {
        applyTheme(stored);
      } else {
        const prefersDark = window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches;
        applyTheme(prefersDark ? "dark" : "light");
      }
    })();

    if (toggle) {
      toggle.addEventListener("click", () => {
        const current = body.classList.contains("theme-light") ? "light" : "dark";
        applyTheme(current === "light" ? "dark" : "light");
      });
    }

    document.addEventListener("click", (e) => {
      if (
        e.target.closest(".btn") ||
        e.target.closest(".theme-toggle") ||
        e.target.closest(".corner-button") ||
        e.target.closest(".img-modal-content")
      ) return;

      const r = document.createElement("span");
      r.className = "ripple";
      r.style.left = e.clientX + "px";
      r.style.top = e.clientY + "px";
      document.body.appendChild(r);
      r.addEventListener("animationend", () => r.remove());
    });

    const panelWrap = document.querySelector(".panel-wrap");
    const geo = document.querySelector(".geo");

    function handleMove(e) {
      if (window.innerWidth < 640) return;
      const x = (e.clientX / window.innerWidth - 0.5) * 2;
      const y = (e.clientY / window.innerHeight - 0.5) * 2;

      const tiltX = y * -3;
      const tiltY = x * 3;

      panelWrap.style.transform =
        `translate3d(${x * 10}px, ${y * 6}px, 0) rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
      geo.style.transform = `translate3d(${x * -16}px, ${y * -10}px, 0)`;
    }

    window.addEventListener("mousemove", handleMove);

    window.addEventListener("DOMContentLoaded", () => {
      requestAnimationFrame(() => {
        body.classList.add("ready");
      });
    });

    const modal = document.getElementById("imgModal");
    const cornerBtn = document.querySelector(".corner-button");

    if (cornerBtn) {
      cornerBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        modal.classList.add("active");
      });
    }

    if (modal) {
      modal.addEventListener("click", () => {
        modal.classList.remove("active");
      });
    }

    // ---- discord status + profile via Lanyard (direct, no Node) ----

    const DISCORD_ID = "879668154236821514";

    const statusRow = document.querySelector(".status-row");
    const statusText = document.querySelector(".status-text");
    const avatarImg = document.querySelector(".avatar img");
    const nameEl = document.querySelector(".name");
    const handleEl = document.querySelector(".handle");

    let currentMode = "loading";
    let firstCheck = true;

    function setStatus(mode, label) {
      if (!statusRow || !statusText) return;

      if (mode === "loading") {
        currentMode = "loading";
        statusRow.classList.remove(
          "status-online",
          "status-idle",
          "status-dnd",
          "status-offline"
        );
        statusRow.classList.add("loading");
        statusText.classList.remove("flip");
        statusText.textContent = label || "syncing…";
        return;
      }

      const prev = currentMode;
      currentMode = mode;

      if (prev === mode) {
        statusRow.classList.remove("loading");
        statusRow.classList.remove(
          "status-online",
          "status-idle",
          "status-dnd",
          "status-offline"
        );
        statusRow.classList.add(`status-${mode}`);
        statusText.classList.remove("flip");
        statusText.textContent = label;
        return;
      }

      statusText.classList.add("flip");

      setTimeout(() => {
        statusRow.classList.remove(
          "loading",
          "status-online",
          "status-idle",
          "status-dnd",
          "status-offline"
        );
        statusRow.classList.add(`status-${mode}`);
        statusText.textContent = label;
      }, 170);

      setTimeout(() => {
        statusText.classList.remove("flip");
      }, 360);
    }

    async function updateStatus() {
      if (firstCheck) {
        setStatus("loading", "syncing…");
      }

      try {
        // directly call Lanyard from the browser
        const res = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_ID}`);
        const json = await res.json();

        if (!json || !json.data || json.success === false) {
          setStatus("offline", "offline");
          return;
        }

        const data = json.data;
        const user = data.discord_user;

        // --- update avatar + name + handle from lanyard ---
        if (user) {
          if (avatarImg) {
            let avatarUrl = "";

            if (user.avatar) {
              const isGif = user.avatar.startsWith("a_");
              const ext = isGif ? "gif" : "webp";
              avatarUrl = `https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.${ext}?size=128`;
            } else {
              // default placeholder avatar
              const base = Number(user.id) || 0;
              const idx = base % 5;
              avatarUrl = `https://cdn.discordapp.com/embed/avatars/${idx}.png`;
            }

            avatarImg.src = avatarUrl;
            avatarImg.alt = user.global_name || user.display_name || user.username || "discord user";
          }

          if (nameEl) {
            nameEl.textContent =
              user.global_name ||
              user.display_name ||
              user.username ||
              "discord user";
          }

          if (handleEl) {
            handleEl.textContent = user.username
              ? `@${user.username}`
              : "@unknown";
          }

          // optional: set page title
          const titleName =
            user.global_name ||
            user.display_name ||
            user.username ||
            "your name";
          document.title = titleName;
        }

        // --- update presence pill ---
        const discordStatus = data.discord_status; // "online" | "idle" | "dnd" | "offline"
        const prettyMap = {
          online: "online",
          idle: "idle",
          dnd: "do not disturb",
          offline: "offline"
        };

        setStatus(discordStatus || "offline", prettyMap[discordStatus] || "offline");
      } catch (err) {
        console.error("status fetch error:", err);
        setStatus("offline", "offline");
      }

      firstCheck = false;
    }

    updateStatus();
    setInterval(updateStatus, 15000);
  </script>
</body>
</html> 